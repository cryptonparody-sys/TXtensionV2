<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TXtension Control Panel</title>
    <link rel="stylesheet" href="panel.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="tx-shell">
      <header class="tx-header">
        <div class="tx-brand">
          <div class="tx-avatar">TX</div>
          <div>
            <h1>TXtension</h1>
            <p>Live translations and fluent replies for Twitter & Discord.</p>
          </div>
        </div>
        <div class="tx-provider-summary">
          <span id="providerLabel">Provider: —</span>
          <span id="modelLabel">Model: —</span>
        </div>
      </header>

      <nav class="tx-tabs" role="tablist">
        <button class="tx-tab active" data-tab="workspace" role="tab" aria-selected="true">Workspace</button>
        <button class="tx-tab" data-tab="reply" role="tab" aria-selected="false">Reply</button>
        <button class="tx-tab" data-tab="discord" role="tab" aria-selected="false">Discord Reply</button>
        <button class="tx-tab" data-tab="tones" role="tab" aria-selected="false">Tone Studio</button>
        <button class="tx-tab" data-tab="integrations" role="tab" aria-selected="false">Integrations</button>
        <button class="tx-tab" data-tab="overview" role="tab" aria-selected="false">Overview</button>
      </nav>

      <main class="tx-panels">
        <section id="workspace" class="tx-panel active" role="tabpanel">
          <form id="workspaceForm" class="tx-form">
            <div class="tx-card">
              <div class="tx-card-header">
                <h2>Translation defaults</h2>
                <p>Select the language and behaviour TD / TX use when translating tweets and Discord messages.</p>
              </div>
              <label class="tx-field">
                <span class="tx-label">Language</span>
                <select id="languageSelect"></select>
              </label>
              <label class="tx-switch">
                <input type="checkbox" id="pinWindow" />
                <span class="tx-switch-slider"></span>
                <span class="tx-switch-text">Pin popup mode (fade after 10 seconds)</span>
              </label>
              <label class="tx-switch">
                <input type="checkbox" id="autoCopy" />
                <span class="tx-switch-slider"></span>
                <span class="tx-switch-text">Copy translations to clipboard automatically</span>
              </label>
            </div>
            <div class="tx-card">
              <div class="tx-card-header">
                <h2>Popup appearance</h2>
                <p>Pick the theme for the translator and reply popup.</p>
              </div>
              <div class="tx-appearance" id="appearancePanel">
                <div id="themeOptions" class="tx-appearance-list" role="listbox"></div>
              </div>
            </div>
            <div class="tx-actions">
              <button type="submit" class="tx-primary-btn">Save defaults</button>
            </div>
          </form>
        </section>

        <section id="reply" class="tx-panel" role="tabpanel">
          <form id="replyForm" class="tx-form">
            <div class="tx-card">
              <div class="tx-card-header">
                <h2>Reply draft</h2>
                <p>RX uses this prompt whenever it generates a reply popup.</p>
              </div>
              <label class="tx-field">
                <span class="tx-label">Custom prompt</span>
                <textarea id="replyPrompt" rows="6" placeholder="Describe how RX should craft replies."></textarea>
              </label>
              <label class="tx-field">
                <span class="tx-label">Project context</span>
                <textarea id="replyContext" rows="3" placeholder="Share background or project notes RX should remember."></textarea>
              </label>
              <label class="tx-field">
                <span class="tx-label">Avoid list</span>
                <textarea id="replyAvoid" rows="3" placeholder="Words, topics, or behaviours RX must avoid. Separate items with commas."></textarea>
              </label>
              <div class="tx-dual-field">
                <label class="tx-field">
                  <span class="tx-label">Minimum words</span>
                  <input type="number" id="replyMinWords" min="1" max="250" placeholder="3" />
                </label>
                <label class="tx-field">
                  <span class="tx-label">Maximum words</span>
                  <input type="number" id="replyMaxWords" min="1" max="250" placeholder="20" />
                </label>
              </div>
              <label class="tx-switch">
                <input type="checkbox" id="replyAutoCopy" />
                <span class="tx-switch-slider"></span>
                <span class="tx-switch-text">Copy reply drafts to clipboard automatically</span>
              </label>
            </div>
            <div class="tx-actions">
              <button type="submit" class="tx-primary-btn">Save reply settings</button>
            </div>
          </form>
        </section>

        <section id="discord" class="tx-panel" role="tabpanel">
          <form id="discordForm" class="tx-form">
            <div class="tx-card">
              <div class="tx-card-header">
                <h2>Discord Studio</h2>
                <p>RD replies with your saved guidance while TD translations follow Workspace language and tone defaults.</p>
              </div>
              <label class="tx-field">
                <span class="tx-label">Project context</span>
                <textarea id="discordReplyContext" rows="4" placeholder="Share background context or project notes to guide RD."></textarea>
              </label>
              <label class="tx-field">
                <span class="tx-label">Reply prompt</span>
                <textarea id="discordReplyPrompt" rows="6" placeholder="Describe how RD should craft replies on Discord."></textarea>
              </label>
              <label class="tx-field">
                <span class="tx-label">Avoid list</span>
                <textarea id="discordReplyAvoid" rows="3" placeholder="Words, topics, or behaviours RD must avoid. Separate items with commas."></textarea>
              </label>
              <div class="tx-dual-field">
                <label class="tx-field">
                  <span class="tx-label">Minimum words</span>
                  <input type="number" id="discordReplyMinWords" min="1" max="250" placeholder="3" />
                </label>
                <label class="tx-field">
                  <span class="tx-label">Maximum words</span>
                  <input type="number" id="discordReplyMaxWords" min="1" max="250" placeholder="20" />
                </label>
              </div>
              <label class="tx-switch">
                <input type="checkbox" id="discordReplyAutoCopy" />
                <span class="tx-switch-slider"></span>
                <span class="tx-switch-text">Copy Discord replies to clipboard automatically</span>
              </label>
            </div>
            <div class="tx-actions">
              <button type="submit" class="tx-primary-btn">Save Discord settings</button>
            </div>
          </form>
        </section>

        <section id="tones" class="tx-panel" role="tabpanel">
          <div class="tx-card">
            <div class="tx-card-header">
              <h2>Tone Studio</h2>
              <p>Choose how each translation should sound.</p>
            </div>
            <div id="toneList" class="tx-tone-list"></div>
          </div>
        </section>

        <section id="integrations" class="tx-panel" role="tabpanel">
          <div class="tx-card">
            <div class="tx-card-header split">
              <div>
                <h2>Provider</h2>
                <p>Select the API you use for translations.</p>
              </div>
              <select id="providerSelect"></select>
            </div>
          </div>

          <div id="providerForms" class="tx-provider-forms"></div>

          <div class="tx-card">
            <div class="tx-card-header">
              <h2>Save integration</h2>
              <p>Applies the configuration above.</p>
            </div>
            <div class="tx-actions">
              <button id="saveProviders" class="tx-primary-btn">Save provider settings</button>
            </div>
          </div>
        </section>

        <section id="overview" class="tx-panel" role="tabpanel">
          <div class="tx-card">
            <div class="tx-card-header">
              <h2>TXtension at a glance</h2>
              <p>Reply-ready translations in your language, styled the way you like them.</p>
            </div>
            <ul class="tx-list">
              <li>Click the TX chip under any tweet to open the inline translator.</li>
              <li>Switch tones and languages instantly from the control panel.</li>
              <li>Keep everything on-device—your API keys stay in local storage.</li>
            </ul>
          </div>

          <div class="tx-card">
            <div class="tx-card-header">
              <h2>Project notes</h2>
              <p>TXtension ships without baked-in support links. Fork it, adapt it, and share improvements with your own team.</p>
            </div>
            <ul class="tx-list">
              <li>GitHub: <a class="tx-link" href="https://github.com/cryptonparody-sys" target="_blank" rel="noopener noreferrer">cryptonparody-sys</a></li>
              <li>Telegram: <a class="tx-link" href="https://t.me/itscryptools" target="_blank" rel="noopener noreferrer">@itscryptools</a></li>
              <li>Email: <a class="tx-link" href="mailto:cryptonparody@gmail.com">cryptonparody@gmail.com</a></li>
            </ul>
          </div>
        </section>
      </main>

      <footer class="tx-footer">TXtension · crafted by <a class="tx-link" href="https://github.com/cryptonparody-sys" target="_blank" rel="noopener noreferrer">cryptonparody-sys</a></footer>
    </div>

    <template id="toneTemplate">
      <button class="tx-tone-card">
        <span class="tx-tone-name"></span>
        <span class="tx-tone-description"></span>
      </button>
    </template>

    <template id="providerTemplate">
      <form class="tx-provider-card" data-provider="">
        <div class="tx-card-header">
          <h3 class="tx-provider-title"></h3>
          <p class="tx-provider-description"></p>
        </div>
        <div class="tx-grid">
          <label class="tx-field">
            <span class="tx-label">API key</span>
            <input type="password" data-field="apiKey" autocomplete="off" />
          </label>
          <label class="tx-field">
            <span class="tx-label">Model</span>
            <input type="text" data-field="model" />
          </label>
          <label class="tx-field">
            <span class="tx-label">Base URL</span>
            <input type="text" data-field="baseUrl" placeholder="https://…" />
          </label>
          <label class="tx-field">
            <span class="tx-label">Temperature</span>
            <input type="number" step="0.1" min="0" max="1" data-field="temperature" />
          </label>
          <label class="tx-field">
            <span class="tx-label">Max tokens</span>
            <input type="number" min="64" max="4096" data-field="maxTokens" />
          </label>
        </div>
        <div class="tx-extra"></div>
      </form>
    </template>

    <script type="module" src="panel.js"></script>
  </body>
</html>
